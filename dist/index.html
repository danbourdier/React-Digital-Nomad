<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- youtube data API -->
  <script rel='preload' src="https://apis.google.com/js/api.js"></script>

  <script rel='preload'> 
    const loadClient = () => { // 1*
      gapi.client.setApiKey('AIzaSyDp-Ef6SpV-umrNe9-8TvnmPWiuFylJbNw')// 2*
      return gapi.client.load("https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest") // 3*
        .then(() => console.log('Google client library loaded!'))

    }

    gapi.load( 'client', loadClient ) // 4* 
    // 1* Before we access access any API belonging to Google, we must set our key, and load the discovery path with the client library we loaded
    // 2* Here we are loading the discovery URL that allows access to the specific location we can call methods on
        // Its our way of saying this is what we want access to (within google's client service) so we can request youtube vid data!
    // 3* When it loads, our client constructor then appends the methods generated from the URL
    // 4* Before using any google APIs we need to enable access to our middle man that routes us access to a specific library (Its like we are asking and threading to what we want )
      // This method allows a second argument (callback) to be executed upon our promise resolving to our target library
        // For reference, https://github.com/google/google-api-javascript-client/blob/master/docs/reference.md
  </script>

  <!-- youtube video API -->
  <script rel='preload' src="https://www.youtube.com/iframe_api"></script>
  <script src="/utils/YTVideoAPI.js"></script>
  <!-- <script rel='preload'>


    // 3. This function creates an <iframe> (and YouTube player)
    window.locationPlayer
    window.musicPlayer

    let locationVideoId = 'u3ayPmL2KN4'
    let musicVideoId = 'lEfkziQSmZI'

    function onYouTubeIframeAPIReady() {
      window.locationPlayer = new YT.Player('locationPlayer', {
        videoId: locationVideoId,
        playerVars: {
          'iv_load_policy': 3,
          'disablekb': 1,
          'start': 300,
          'autoplay': 1,
          'modestbranding': 1,
          'controls': 0,
          // 'origin': 'https://www.youtube.com/',
          'enablejsapi': 1,
          'rel': 0
        },
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });

      let musicObject = new YT.Player('musicPlayer', {
        videoId: musicVideoId,
        playerVars: {
          'iv_load_policy': 3,
          'autoplay': 1,
          'modestbranding': 1,
          'controls': 0,
          // 'origin': 'https://www.youtube.com/',
          'enablejsapi': 1,
          'rel': 0
        },
        events: {
          'onReady': onMusicReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }

    // 4. The API will call this function when the video player is ready.
    function onMusicReady(event) {
      event.target.playVideo();
      window.musicPlayer = event.target; 
    }

    function onPlayerReady(event) {
      event.target.playVideo();
    }

    // 5. The API calls this function when the player's state changes.
    let done = false;
    function onPlayerStateChange(event) {
      if (event.data == YT.PlayerState.PLAYING && !done) {
        done = true;
      }
    }
    
  </script>  -->
  
  <!-- <script src="../dist/bundle.js"></script> -->
  
  <link rel="stylesheet" type="text/css" href="/stylesheets/player.css">
  <link rel="stylesheet" type="text/css" href="/stylesheets/root.css">
  <link rel="stylesheet" type="text/css" href="/stylesheets/controls.css">

  <title>Digital Nomad</title>
<link rel="icon" href="favicon.png"><script src="bundle.js"></script></head>
<body>
  <div id="root"></div>

  
</body>
</html>